<div class="min-h-screen bg-slate-950 text-white">
  <div class="container mx-auto px-4 py-8 max-w-3xl">
    <!-- Page Header -->
    <div class="mb-8">
      <h1 class="text-3xl font-bold mb-2">
        <span class="bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent">Anime Feed</span>
      </h1>
      <p class="text-slate-400">Discover posts from the anime community</p>
    </div>

    <!-- Create Post Button -->
    <% if user_signed_in? %>
      <div class="mb-8">
        <%= link_to "‚úçÔ∏è Create New Post", new_post_path, class: "inline-block px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:shadow-lg hover:shadow-purple-500/50 transition font-semibold" %>
      </div>
    <% end %>

    <!-- Posts Feed (Turbo Frames) -->
    <div id="posts-feed">
      <% if @posts.any? %>
        <% @posts.each do |post| %>
          <%= render "posts/post", post: post %>
        <% end %>

        <!-- Pagination -->
        <% if @pagy.pages > 1 %>
          <nav aria-label="pagination" class="flex justify-center gap-2 mt-8">
            <% if @pagy.prev %>
              <%= link_to "‚Üê Previous", posts_path(page: @pagy.prev), class: "px-4 py-2 bg-slate-700/50 hover:bg-slate-700 text-slate-200 rounded-lg transition" %>
            <% else %>
              <span class="px-4 py-2 bg-slate-800/50 text-slate-500 rounded-lg">‚Üê Previous</span>
            <% end %>

            <div class="flex gap-1">
              <% @pagy.series.each do |page| %>
                <% if page.is_a?(Integer) %>
                  <% if page == @pagy.page %>
                    <span class="px-3 py-2 bg-purple-600 text-white rounded-lg font-semibold"><%= page %></span>
                  <% else %>
                    <%= link_to page, posts_path(page: page), class: "px-3 py-2 bg-slate-700/50 hover:bg-slate-700 text-slate-200 rounded-lg transition" %>
                  <% end %>
                <% elsif page == "gap" %>
                  <span class="px-2 py-2 text-slate-400">...</span>
                <% end %>
              <% end %>
            </div>

            <% if @pagy.next %>
              <%= link_to "Next ‚Üí", posts_path(page: @pagy.next), class: "px-4 py-2 bg-slate-700/50 hover:bg-slate-700 text-slate-200 rounded-lg transition" %>
            <% else %>
              <span class="px-4 py-2 bg-slate-800/50 text-slate-500 rounded-lg">Next ‚Üí</span>
            <% end %>
          </nav>
        <% end %>
      <% else %>
        <div class="text-center py-12">
          <div class="text-6xl mb-4">üìù</div>
          <h2 class="text-xl font-semibold text-slate-300 mb-2">No posts yet</h2>
          <p class="text-slate-400 mb-6">Be the first to share your thoughts!</p>
          <% if user_signed_in? %>
            <%= link_to "Create a Post", new_post_path, class: "inline-block px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition font-semibold" %>
          <% else %>
            <%= link_to "Sign in to Post", user_session_path, class: "inline-block px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition font-semibold" %>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</div>
